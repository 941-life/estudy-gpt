{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nfunction useFlutterMessage(setUserData) {\n  _s();\n  //   useEffect(() => {\n  //     const handleMessage = (event) => {\n  //       if (event.data.type === \"auth:success\") {\n  //         console.log(\"Authentication success:\", event.data);\n  //         setUserData(event.data); // Save user data\n  //       }\n  //     };\n\n  //     window.addEventListener(\"message\", handleMessage);\n\n  //     return () => {\n  //       window.removeEventListener(\"message\", handleMessage);\n  //     };\n  //   }, [setUserData]);\n  useEffect(() => {\n    const handleMessage = event => {\n      // 콘솔에 전체 event와 event.data를 출력\n      console.log(\"WebView message event:\", event);\n      console.log(\"WebView message data:\", event.data);\n\n      // 기존 로직\n      if (event.data.type === \"auth:success\") {\n        setUserData(event.data);\n      }\n    };\n    window.addEventListener(\"message\", handleMessage);\n    return () => window.removeEventListener(\"message\", handleMessage);\n  }, [setUserData]);\n}\n_s(useFlutterMessage, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\nexport default useFlutterMessage;","map":{"version":3,"names":["useEffect","useFlutterMessage","setUserData","_s","handleMessage","event","console","log","data","type","window","addEventListener","removeEventListener"],"sources":["/home/kmean/Desktop/Mobile/term_project/estudy_gpt/web/web_chat/src/hooks/useFlutterMessage.js"],"sourcesContent":["import { useEffect } from \"react\";\n\nfunction useFlutterMessage(setUserData) {\n  //   useEffect(() => {\n  //     const handleMessage = (event) => {\n  //       if (event.data.type === \"auth:success\") {\n  //         console.log(\"Authentication success:\", event.data);\n  //         setUserData(event.data); // Save user data\n  //       }\n  //     };\n\n  //     window.addEventListener(\"message\", handleMessage);\n\n  //     return () => {\n  //       window.removeEventListener(\"message\", handleMessage);\n  //     };\n  //   }, [setUserData]);\n  useEffect(() => {\n    const handleMessage = (event) => {\n      // 콘솔에 전체 event와 event.data를 출력\n      console.log(\"WebView message event:\", event);\n      console.log(\"WebView message data:\", event.data);\n\n      // 기존 로직\n      if (event.data.type === \"auth:success\") {\n        setUserData(event.data);\n      }\n    };\n\n    window.addEventListener(\"message\", handleMessage);\n    return () => window.removeEventListener(\"message\", handleMessage);\n  }, [setUserData]);\n}\n\nexport default useFlutterMessage;\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AAEjC,SAASC,iBAAiBA,CAACC,WAAW,EAAE;EAAAC,EAAA;EACtC;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;;EAEA;EACA;EACA;EACA;EACAH,SAAS,CAAC,MAAM;IACd,MAAMI,aAAa,GAAIC,KAAK,IAAK;MAC/B;MACAC,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEF,KAAK,CAAC;MAC5CC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEF,KAAK,CAACG,IAAI,CAAC;;MAEhD;MACA,IAAIH,KAAK,CAACG,IAAI,CAACC,IAAI,KAAK,cAAc,EAAE;QACtCP,WAAW,CAACG,KAAK,CAACG,IAAI,CAAC;MACzB;IACF,CAAC;IAEDE,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEP,aAAa,CAAC;IACjD,OAAO,MAAMM,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAER,aAAa,CAAC;EACnE,CAAC,EAAE,CAACF,WAAW,CAAC,CAAC;AACnB;AAACC,EAAA,CA9BQF,iBAAiB;AAgC1B,eAAeA,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}